!function(t){function e(e){for(var i,a,o=e[0],c=e[1],u=e[2],l=0,d=[];l<o.length;l++)a=o[l],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&d.push(r[a][0]),r[a]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);for(h&&h(e);d.length;)d.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],i=!0,o=1;o<n.length;o++){var c=n[o];0!==r[c]&&(i=!1)}i&&(s.splice(e--,1),t=a(a.s=n[0]))}return t}var i={},r={0:0},s=[];function a(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=i,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(n,i,function(e){return t[e]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var o=window.webpackJsonp=window.webpackJsonp||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var h=c;s.push([1466,1]),n()}({1466:function(t,e,n){"use strict";n.r(e);var i=n(30),r=n.n(i),s=n(4),a=n.n(s),o=n(8),c=n.n(o),u=n(20),h=n.n(u),l=n(21),d=n.n(l),p=n(10),f=n.n(p),y={WIDTH:640,HEIGHT:400,CENTER_WIDTH:320,CENTER_HEIGHT:200},m="preload",v="title",g={HURDLES:"hurdles",BALANCE_BEAM:"balance-beam",SPRINT:"sprint",ARCHERY:"archery"},E="game-results",k="final-results";function R(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=f()(t);if(e){var r=f()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return d()(this,n)}}var b,w,T=function(t){h()(n,t);var e=R(n);function n(t){var i;return a()(this,n),(i=e.call(this,t)).button=void 0,i.persistence=void 0,i}return n}(Phaser.Scene),P=n(35),S=n.n(P);!function(t){t.VIRTUAL_GUY="VIRTUAL_GUY",t.MASK_DUDE="MASK_DUDE",t.NINJA_FROG="NINJA_FROG",t.PINK_MAN="PINK_MAN"}(w||(w={}));var I,D=(b={},S()(b,w.VIRTUAL_GUY,{id:w.VIRTUAL_GUY,name:"Virtual Guy",texture:"virtual-guy"}),S()(b,w.MASK_DUDE,{id:w.MASK_DUDE,name:"Mask Dude",texture:"mask-dude"}),S()(b,w.NINJA_FROG,{id:w.NINJA_FROG,name:"Ninja Frog",texture:"ninja-frog"}),S()(b,w.PINK_MAN,{id:w.PINK_MAN,name:"Pink Man",texture:"pink-man"}),b);!function(t){t.HURDLES="hurdles",t.SPRINT="sprint",t.BALANCE_BEAM="balance_beam",t.ARCHERY="archery"}(I||(I={}));var N=function(){function t(){a()(this,t),this.name="event-completion",this.events=void 0,this.clear()}return c()(t,[{key:"completeEvent",value:function(t,e){var n=this.events[t];n.completed=!0,n.placements=e}},{key:"getCharacterPlacements",value:function(){var t=[{id:w.VIRTUAL_GUY,first:0,second:0,third:0},{id:w.MASK_DUDE,first:0,second:0,third:0},{id:w.PINK_MAN,first:0,second:0,third:0},{id:w.NINJA_FROG,first:0,second:0,third:0}];return Object.values(this.events).forEach((function(e){if(e.completed){var n=e.placements;t.find((function(t){return t.id===n.first})).first+=1,t.find((function(t){return t.id===n.second})).second+=1,t.find((function(t){return t.id===n.third})).third+=1}})),t}},{key:"areAllComplete",value:function(){return Object.values(this.events).every((function(t){return t.completed}))}},{key:"toJson",value:function(){return this.events}},{key:"fromJson",value:function(t){var e=t;this.events=e}},{key:"clear",value:function(){var t;this.events=(t={},S()(t,I.ARCHERY,{eventId:I.ARCHERY,completed:!1}),S()(t,I.BALANCE_BEAM,{eventId:I.BALANCE_BEAM,completed:!1}),S()(t,I.HURDLES,{eventId:I.HURDLES,completed:!1}),S()(t,I.SPRINT,{eventId:I.SPRINT,completed:!1}),t)}}]),t}();function A(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=f()(t);if(e){var r=f()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return d()(this,n)}}var O=function(t){h()(n,t);var e=A(n);function n(){return a()(this,n),e.call(this,{key:m})}return c()(n,[{key:"init",value:function(){this.persistence.addDocument(new N)}},{key:"preload",value:function(){this.cameras.main.setBackgroundColor(4007227),this.setUpProgressBar(),this.load.audio("music/event-results",["assets/music/event-results.mp3","assets/music/event-results.ogg"]),this.load.audio("music/final-results",["assets/music/final-results.mp3","assets/music/final-results.ogg"]),this.load.audio("music/other-event",["assets/music/other-event.mp3","assets/music/other-event.ogg"]),this.load.audio("music/race",["assets/music/race.mp3","assets/music/race.ogg"]),this.load.audio("music/title",["assets/music/title.mp3","assets/music/title.ogg"]),this.load.bitmapFont("matchup-64-glow","assets/fonts/matchup-64-glow.png","assets/fonts/matchup-64-glow.xml"),this.load.bitmapFont("matchup-48","assets/fonts/matchup-48.png","assets/fonts/matchup-48.xml"),this.load.bitmapFont("matchup-24-white","assets/fonts/matchup-24-white.png","assets/fonts/matchup-24-white.xml"),this.load.bitmapFont("matchup-36-white","assets/fonts/matchup-36-white.png","assets/fonts/matchup-36-white.xml"),this.load.image("background-blue","assets/pack/Background/Blue.png"),this.load.image("background-brown","assets/pack/Background/Brown.png"),this.load.image("background-gray","assets/pack/Background/Gray.png"),this.load.image("background-green","assets/pack/Background/Green.png"),this.load.image("background-pink","assets/pack/Background/Pink.png"),this.load.image("background-purple","assets/pack/Background/Purple.png"),this.load.image("background-yellow","assets/pack/Background/Yellow.png"),this.load.image("trophy","assets/trophy.png"),this.load.image("green-check","assets/green-check.png"),this.load.image("podium-first","assets/podiums/first.png"),this.load.image("podium-second","assets/podiums/second.png"),this.load.image("podium-third","assets/podiums/third.png"),this.load.animation("virtual-guy-animations","assets/characters/virtual-guy.animations.json"),this.load.spritesheet("virtual-guy","assets/characters/virtual-guy.png",{frameWidth:32,frameHeight:32}),this.load.animation("mask-dude-animations","assets/characters/mask-dude.animations.json"),this.load.spritesheet("mask-dude","assets/characters/mask-dude.png",{frameWidth:32,frameHeight:32}),this.load.animation("ninja-frog-animations","assets/characters/ninja-frog.animations.json"),this.load.spritesheet("ninja-frog","assets/characters/ninja-frog.png",{frameWidth:32,frameHeight:32}),this.load.animation("pink-man-animations","assets/characters/pink-man.animations.json"),this.load.spritesheet("pink-man","assets/characters/pink-man.png",{frameWidth:32,frameHeight:32}),this.load.image("timing-bar","assets/timing-bar.png"),this.load.spritesheet("flag","assets/components/flag.png",{frameWidth:64,frameHeight:64}),this.load.animation("flag-animations","assets/components/flag.animations.json"),this.load.image("hurdles-ground","assets/games/hurdles/ground.png"),this.load.spritesheet("hurdles-hurdle","assets/games/hurdles/hurdle.spritesheet.png",{frameWidth:26,frameHeight:20}),this.load.image("beam","assets/games/balance-beam/beam.png"),this.load.image("beam-edge","assets/games/balance-beam/beam-edge.png"),this.load.image("beam-legs","assets/games/balance-beam/beam-legs.png"),this.load.image("archery-target","assets/games/archery/target.png"),this.load.image("archery-crosshair","assets/games/archery/crosshair.png"),this.load.image("red-x","assets/games/archery/red-x.png")}},{key:"create",value:function(){this.persistence.read(),this.scene.start(v)}},{key:"setUpProgressBar",value:function(){var t=y.WIDTH/2,e=y.HEIGHT/2,n=(this.add.rectangle(t-75,e,150,40,14306872).setOrigin(0,.5),this.add.rectangle(t-75+3,e,0,34,15633710).setOrigin(0,.5));this.load.on(Phaser.Loader.Events.PROGRESS,(function(t){var e=144*t;n.width=e}))}}]),n}(T),x=[{texture:"background-pink",dx:1,dy:-1},{texture:"background-pink",dx:-1,dy:1},{texture:"background-yellow",dx:1,dy:1}],H=function(){function t(e){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:y.WIDTH,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:y.HEIGHT;a()(this,t),this.tileSprite=void 0,this.dx=void 0,this.dy=void 0;var c=this.generateBackgroundData();this.tileSprite=e.add.tileSprite(i,r,s,o,c.texture).setOrigin(0),this.dx=c.dx,this.dy=c.dy,e.events.on(Phaser.Scenes.Events.POST_UPDATE,this.update,this),e.events.once(Phaser.Scenes.Events.SHUTDOWN,(function(){e.events.off(Phaser.Scenes.Events.POST_UPDATE,n.update,n)})),console.log(c)}return c()(t,[{key:"update",value:function(){this.tileSprite.tilePositionX+=this.dx,this.tileSprite.tilePositionY+=this.dy}},{key:"generateBackgroundData",value:function(){var t=Phaser.Math.RND.pick(["background-blue","background-brown","background-gray","background-green","background-pink","background-purple","background-yellow"]),e=1*Phaser.Math.RND.sign(),n=1*Phaser.Math.RND.sign();return x.some((function(i){return i.texture===t&&i.dx===e&&i.dy===n}))?this.generateBackgroundData():{texture:t,dx:e,dy:n}}}]),t}(),_=function(){function t(e,n,i,r){a()(this,t),this.sprite=void 0,this.id=void 0;var s=D[r].texture;this.sprite=e.add.sprite(n,i,s),this.id=r}return c()(t,[{key:"playAnimation",value:function(t){var e="".concat(D[this.id].texture,"-").concat(t);this.sprite.anims.play(e,!0)}}]),t}();function B(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=f()(t);if(e){var r=f()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return d()(this,n)}}var M=function(t){h()(n,t);var e=B(n);function n(){var t;return a()(this,n),(t=e.call(this,{key:v})).background=void 0,t}return c()(n,[{key:"create",value:function(){var t=this.persistence.getDocument("event-completion");t.areAllComplete()?this.scene.start(k):(new H(this),this.add.bitmapText(y.WIDTH/2,50,"matchup-64-glow","One Button Olympics!").setOrigin(.5),this.addChecklistMenu([{text:"Hurdles",sceneKey:g.HURDLES,checked:t.events[I.HURDLES].completed},{text:"Balance Beam",sceneKey:g.BALANCE_BEAM,checked:t.events[I.BALANCE_BEAM].completed},{text:"Sprint",sceneKey:g.SPRINT,checked:t.events[I.SPRINT].completed},{text:"Archery",sceneKey:g.ARCHERY,checked:t.events[I.ARCHERY].completed}]),this.addOverallRankings(t),this.sound.play("music/title",{loop:!0}))}},{key:"startEvent",value:function(t){this.sound.stopByKey("music/title"),this.scene.start(t)}},{key:"addChecklistMenu",value:function(t){var e=this,n=y.CENTER_WIDTH,i=y.CENTER_HEIGHT-32;t.forEach((function(t,r){var s=t.text,a=t.sceneKey,o=t.checked;e.addChecklistButton(n,i+50*r,s,a,o)}))}},{key:"addChecklistButton",value:function(t,e,n,i,s){var a=this,o=this.add.container(t,e),c=this.add.rectangle(-20,3,300,40,16777215,.7).setAlpha(.7).setOrigin(0,.5).setInteractive().on(r.a.Input.Events.GAMEOBJECT_POINTER_OVER,(function(){s||(c.alpha=1)})).on(r.a.Input.Events.GAMEOBJECT_POINTER_OUT,(function(){s||(c.alpha=.7)})).once(r.a.Input.Events.POINTER_DOWN,(function(){s||a.startEvent(i)}));o.add(c),o.add(this.add.rectangle(0,3,24,24,void 0,0).setStrokeStyle(4,16777215).setInteractive().on(r.a.Input.Events.GAMEOBJECT_POINTER_OVER,(function(){s||(c.alpha=1)})).on(r.a.Input.Events.GAMEOBJECT_POINTER_OUT,(function(){c.alpha=.7})).once(r.a.Input.Events.POINTER_DOWN,(function(){s||a.startEvent(i)}))),s&&o.add(this.add.image(4,-1,"green-check")),o.add(this.add.bitmapText(32,0,"matchup-36-white",n).setOrigin(0,.5).setInteractive().on(r.a.Input.Events.GAMEOBJECT_POINTER_OVER,(function(){s||(c.alpha=1)})).on(r.a.Input.Events.GAMEOBJECT_POINTER_OUT,(function(){s||(c.alpha=.7)})).once(r.a.Input.Events.POINTER_DOWN,(function(){s||a.startEvent(i)})))}},{key:"addOverallRankings",value:function(t){var e=this,n=t.getCharacterPlacements();n.forEach((function(t,n){new _(e,50,142+64*n,t.id).sprite.scale=2;for(var i=20*t.first,r=20*t.second,s=(t.third,0);s<t.first;s++)e.add.rectangle(114+20*s,150+64*n,20,32,16511542).setOrigin(0,.5).setStrokeStyle(2,0);for(var a=0;a<t.second;a++)e.add.rectangle(114+i+20*a,150+64*n,20,32,13360124).setOrigin(0,.5).setStrokeStyle(2,0);for(var o=0;o<t.third;o++)e.add.rectangle(114+i+r+20*o,150+64*n,20,32,9072432).setOrigin(0,.5).setStrokeStyle(2,0)}))}}]),n}(T),C=n(169),G=n.n(C),U=n(170),W=n.n(U),L=function(){function t(e,n,i){var r=this;a()(this,t),this.scene=void 0,this.timer=void 0,this.startTime=void 0,this.text=void 0,this.scene=e,this.text=e.add.bitmapText(n,i,"matchup-36-white","00:00").setOrigin(.5),this.startTime=0,this.timer=e.time.addEvent({loop:!0,delay:10,paused:!0,callback:function(){return r.tick()}}),e.events.once(Phaser.Scenes.Events.SHUTDOWN,(function(){return r.timer.destroy()}))}return c()(t,[{key:"start",value:function(){this.startTime=this.scene.game.getTime(),this.timer.paused=!1}},{key:"tick",value:function(){var t=this.scene.game.getTime()-this.startTime,e=Phaser.Math.RoundTo(t/1e3,-2),n=Math.round(e/60),i=String(e).split("."),r=W()(i,2),s=r[0],a=r[1],o=void 0===a?"":a,c=String(n).padStart(2,"0"),u=s.padStart(2,"0"),h=o.padStart(2,"0");this.text.setText("".concat(c,":").concat(u,".").concat(h))}},{key:"getSeconds",value:function(){}}]),t}(),j=function(){function t(e,n){a()(this,t),this.scene=void 0,this.body=void 0,this.character=void 0,this.hasJumped=void 0,this.autoJumpScheduled=void 0,this.scene=e,this.character=new _(e,20,y.HEIGHT-96-16,n),this.hasJumped=!1,this.autoJumpScheduled=!1,e.physics.add.existing(this.character.sprite),this.body=this.character.sprite.body,this.body.setGravity(0,400).setAccelerationX(100).setMaxSpeed(600).setBounce(.2,.2).setCollideWorldBounds(!0),this.body.onWorldBounds=!0}return c()(t,[{key:"jump",value:function(){this.hasJumped||(this.hasJumped=!0,this.body.setVelocityY(-150),this.character.playAnimation("jump"))}},{key:"autoJump",value:function(){var t=this;this.autoJumpScheduled||(this.autoJumpScheduled=!0,this.scene.time.delayedCall(Phaser.Math.Between(650,1250),(function(){t.jump(),t.autoJumpScheduled=!1})))}},{key:"update",value:function(){this.body.velocity.y>0&&this.character.playAnimation("fall"),this.body.touching.down&&(this.character.playAnimation("run"),this.hasJumped=!1)}}]),t}(),J=function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};a()(this,t),this.tileSprite=void 0,this.body=void 0;var r=y.HEIGHT-96;this.tileSprite=e.add.tileSprite(0,r,n,96,"hurdles-ground").setOrigin(0,0),i.physics&&(e.physics.add.existing(this.tileSprite),this.body=this.tileSprite.body,this.body.setImmovable(!0))};function V(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=f()(t);if(e){var r=f()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return d()(this,n)}}var K=y.HEIGHT-96,Y=function(t){h()(n,t);var e=V(n);function n(){var t;return a()(this,n),(t=e.call(this,{key:g.HURDLES})).player=void 0,t.computerPlayers=void 0,t.ground=void 0,t.hurdles=void 0,t}return c()(n,[{key:"create",value:function(){var t=this;this.createTrack(),this.addPlayers(),this.addPhysics(),this.addWinCondition(),this.button.addListener((function(){t.player.jump()}));var e=new L(this,y.CENTER_WIDTH,100);e.text.setScrollFactor(0),e.start(),this.cameras.main.setBounds(0,0,2750,y.HEIGHT),this.cameras.main.startFollow(this.player.character.sprite),this.sound.play("music/race",{loop:!0})}},{key:"update",value:function(){this.player.update(),this.computerPlayers.forEach((function(t){t.update(),t.autoJump()}))}},{key:"createTrack",value:function(){var t=this;new H(this).tileSprite.setScrollFactor(0),this.ground=new J(this,2750,{physics:!0}),this.hurdles=Array.from({length:10},(function(e,n){return t.physics.add.sprite(250*(n+1),K-8,"hurdles-hurdle")}))}},{key:"addPlayers",value:function(){var t=this;this.player=new j(this,w.VIRTUAL_GUY),this.physics.add.collider(this.player.character.sprite,this.ground.tileSprite),this.computerPlayers=[new j(this,w.MASK_DUDE),new j(this,w.NINJA_FROG),new j(this,w.PINK_MAN)],this.computerPlayers.forEach((function(e){t.physics.add.collider(e.character.sprite,t.ground.tileSprite)}))}},{key:"addPhysics",value:function(){var t=this;this.physics.world.setBounds(0,0,2750,y.HEIGHT),this.physics.world.setBoundsCollision(!1,!0,!1,!1),this.hurdles.forEach((function(e){e.body.setGravityY(400).setCollideWorldBounds(!0).setDragX(200),t.physics.add.collider(e,t.ground.tileSprite),t.physics.add.collider(e,t.player.character.sprite,(function(){e.setVelocityX(r.a.Math.RND.between(100,200)),e.body.touching.up||e.setVelocityY(r.a.Math.RND.between(-150,-250))})),t.computerPlayers.forEach((function(n){t.physics.add.collider(e,n.character.sprite,(function(){e.setVelocityX(r.a.Math.RND.between(100,200)),e.body.touching.up||e.setVelocityY(r.a.Math.RND.between(-150,-250))}))}))}))}},{key:"addWinCondition",value:function(){var t=this;this.physics.world.on(r.a.Physics.Arcade.Events.WORLD_BOUNDS,(function(){var e=[{characterID:t.player.character.id,x:t.player.character.sprite.x}].concat(G()(t.computerPlayers.map((function(t){return{characterID:t.character.id,x:t.character.sprite.x}})))).sort((function(t,e){return e.x-t.x}));t.sound.stopByKey("music/race"),t.scene.start(E,{eventId:I.HURDLES,name:"HURDLES",first:e[0].characterID,second:e[1].characterID,third:e[2].characterID})}))}}]),n}(T);function F(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=f()(t);if(e){var r=f()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return d()(this,n)}}var Z=function(t){h()(n,t);var e=F(n);function n(){var t;return a()(this,n),(t=e.call(this,{key:E})).background=void 0,t}return c()(n,[{key:"create",value:function(t){var e=this;this.sound.play("music/event-results",{loop:!0}),this.persistence.getDocument("event-completion").completeEvent(t.eventId,{first:t.first,second:t.second,third:t.third}),this.persistence.store(),new H(this),this.add.bitmapText(y.WIDTH/2,120,"matchup-48",t.name).setOrigin(.5).setLetterSpacing(2),this.add.bitmapText(y.WIDTH/2,y.HEIGHT-40,"matchup-36-white","Back to Event List").setOrigin(.5),this.button.addListener((function(){e.sound.stopByKey("music/event-results"),e.scene.start(v)}));var n={first:{x:y.WIDTH/2,y:y.HEIGHT/2+60,height:60},second:{x:y.WIDTH/2-60,y:y.HEIGHT/2+60,height:40},third:{x:y.WIDTH/2+60,y:y.HEIGHT/2+60,height:20}};this.add.image(n.second.x,n.second.y,"podium-second").setOrigin(.5,1),this.add.image(n.first.x,n.first.y,"podium-first").setOrigin(.5,1),this.add.image(n.third.x,n.third.y,"podium-third").setOrigin(.5,1);var i=D[t.first];this.add.sprite(n.first.x,n.first.y-n.first.height,i.texture,0).setOrigin(.5,1);var r=D[t.second];this.add.sprite(n.second.x,n.second.y-n.second.height,r.texture,0).setOrigin(.5,1);var s=D[t.third];this.add.sprite(n.third.x,n.third.y-n.third.height,s.texture,0).setOrigin(.5,1),this.add.bitmapText(n.first.x,n.first.y,"matchup-24-white","1st").setOrigin(.5,0),this.add.bitmapText(n.second.x,n.second.y,"matchup-24-white","2nd").setOrigin(.5,0),this.add.bitmapText(n.third.x,n.third.y,"matchup-24-white","3rd").setOrigin(.5,0)}}]),n}(T),X=function(){function t(e,n,i){a()(this,t),this.scene=void 0,this.selectorTween=void 0,this.greenZoneTween=void 0,this.container=void 0,this.bar=void 0,this.greenZone=void 0,this.selector=void 0,this.scene=e;var r=Phaser.Math.RND.between(80,120);this.container=e.add.container(n,i,[this.bar=e.add.sprite(0,0,"timing-bar"),this.greenZone=e.add.rectangle(this.bar.width/2-7-r,0,r,this.bar.height-14,7512349).setOrigin(0,.5),this.selector=e.add.rectangle(-this.bar.width/2+7,0,5,this.bar.height-14,14807956)]),this.selectorTween=this.scene.tweens.add({targets:this.selector,props:{x:this.bar.width/2-7},yoyo:!0,loop:-1,duration:Phaser.Math.RND.between(800,1200),paused:!0}),this.greenZoneTween=this.scene.tweens.add({targets:this.greenZone,props:{x:-this.bar.width/2+7},yoyo:!0,loop:-1,duration:Phaser.Math.RND.between(800,1200),paused:!0})}return c()(t,[{key:"select",value:function(){var t=this.greenZone.x,e=this.greenZone.x+this.greenZone.width;return t<=this.selector.x&&this.selector.x<=e}},{key:"start",value:function(){this.startSelectorMovement(),this.startGreenZoneMovement()}},{key:"startSelectorMovement",value:function(){this.selectorTween.play()}},{key:"startGreenZoneMovement",value:function(){this.greenZoneTween.play()}},{key:"speedUpSelector",value:function(){this.selectorTween.setTimeScale(1.2*this.selectorTween.timeScale)}},{key:"slowDownSelector",value:function(){this.selectorTween.setTimeScale(this.selectorTween.timeScale/1.2)}}]),t}(),q=function(){function t(e,n,i){a()(this,t),this.sprite=void 0,this.sprite=e.add.sprite(n,i,"flag")}return c()(t,[{key:"playWave",value:function(){this.sprite.anims.play("flag-wave")}},{key:"checkPass",value:function(t){return this.sprite.x<t.x}}]),t}();function z(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=f()(t);if(e){var r=f()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return d()(this,n)}}var Q=function(t){h()(n,t);var e=z(n);function n(){var t;return a()(this,n),(t=e.call(this,{key:g.BALANCE_BEAM})).timingBar=void 0,t.player=void 0,t.flag=void 0,t}return c()(n,[{key:"create",value:function(){this.sound.play("music/race",{loop:!0}),new H(this),this.flag=new q(this,575,263),this.flag.sprite.setScale(2),this.flag.playWave(),new L(this,y.CENTER_WIDTH,100).start(),this.timingBar=new X(this,y.CENTER_WIDTH,150);var t=y.WIDTH-64;this.add.container(y.CENTER_WIDTH,y.HEIGHT-64,[this.add.image(0,53,"beam-legs"),this.add.image(-1*t/2-1,0,"beam-edge"),this.add.tileSprite(0,0,t,19,"beam"),this.add.image(t/2+1,0,"beam-edge")]),this.player=new _(this,100,295,w.VIRTUAL_GUY),this.player.sprite.scale=2,this.player.playAnimation("idle"),this.start()}},{key:"start",value:function(){var t=this,e=function(){t.timingBar.select()?t.tweens.add({targets:t.player.sprite,props:{x:"+=".concat(Phaser.Math.RND.between(75,150))},duration:400,onStart:function(){t.player.playAnimation("run")},onComplete:function(){t.player.playAnimation("idle"),t.flag.checkPass(t.player.sprite)&&(t.tweens.killAll(),t.sound.stopByKey("music/race"),t.scene.start(E,{eventId:I.BALANCE_BEAM,name:"BALANCE BEAM",first:w.VIRTUAL_GUY,second:w.NINJA_FROG,third:w.PINK_MAN}))}}):t.cameras.main.shake(100,.01)};this.input.on("pointerdown",e),this.input.keyboard.on("keydown-SPACE",e),this.events.on(Phaser.Scenes.Events.SHUTDOWN,(function(){t.input.off("pointerdown",e),t.input.keyboard.off("keydown-SPACE",e)})),this.timingBar.start()}}]),n}(Phaser.Scene),$=function(){function t(e,n,i,r){a()(this,t),this.body=void 0,this.character=void 0,this.character=new _(e,n,i,r),e.physics.add.existing(this.character.sprite),this.body=this.character.sprite.body,this.body.setGravityY(400),this.body.collideWorldBounds=!0,this.body.setBounce(.2,0),this.character.playAnimation("run")}return c()(t,[{key:"incrementVelocity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;this.body.velocity.x+=t}},{key:"decrementVelocity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;this.body.velocity.x-=t}}]),t}();function tt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=f()(t);if(e){var r=f()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return d()(this,n)}}var et=function(t){h()(n,t);var e=tt(n);function n(){var t;return a()(this,n),(t=e.call(this,{key:g.SPRINT})).flag=void 0,t.player=void 0,t.computerPlayers=void 0,t}return c()(n,[{key:"create",value:function(){var t=this;this.sound.play("music/race",{loop:!0}),new H(this).tileSprite.setScrollFactor(0),this.flag=new q(this,1600,y.HEIGHT-96-32);var e=new J(this,1800,{physics:!0}),n=new X(this,y.CENTER_WIDTH,100);n.container.setScrollFactor(0),n.startSelectorMovement();var i=new L(this,y.CENTER_WIDTH,150);i.text.setScrollFactor(0),i.start(),this.player=new $(this,50,y.HEIGHT-96-16,w.VIRTUAL_GUY),this.physics.add.collider(e.tileSprite,this.player.character.sprite),this.computerPlayers=[w.MASK_DUDE,w.NINJA_FROG,w.PINK_MAN].map((function(n){var i=new $(t,50,y.HEIGHT-96-16,n);return t.physics.add.collider(e.tileSprite,i.character.sprite),i})),this.physics.world.setBounds(0,0,1800,y.HEIGHT),this.cameras.main.setBounds(0,0,1800,y.HEIGHT),this.cameras.main.startFollow(this.player.character.sprite),this.button.addListener((function(){n.select()?(n.speedUpSelector(),t.player.incrementVelocity()):(n.slowDownSelector(),t.player.decrementVelocity())})),this.updateComputerPlayers()}},{key:"update",value:function(){if(this.flag.checkPass(this.player.character.sprite)){var t=[this.player].concat(G()(this.computerPlayers)).sort((function(t,e){return e.character.sprite.x-t.character.sprite.x}));this.sound.stopByKey("music/race"),this.scene.start(E,{eventId:I.SPRINT,name:"Sprint",first:t[0].character.id,second:t[1].character.id,third:t[2].character.id})}}},{key:"updateComputerPlayers",value:function(){var t=this;this.time.delayedCall(Phaser.Math.RND.between(500,750),(function(){t.computerPlayers.forEach((function(t){Phaser.Math.RND.pick([!0,!0,!1])?t.incrementVelocity(Phaser.Math.RND.between(75,125)):t.decrementVelocity(Phaser.Math.RND.between(25,75))})),t.updateComputerPlayers()}))}}]),n}(T),nt=n(168),it=n.n(nt);function rt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=f()(t);if(e){var r=f()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return d()(this,n)}}var st=function(t){h()(n,t);var e=rt(n);function n(t,i){var r;return a()(this,n),(r=e.call(this,t,i)).listeners=void 0,r.listeners=[],t.events.on(Phaser.Scenes.Events.START,r.startListening,it()(r)),t.events.on(Phaser.Scenes.Events.SHUTDOWN,r.stopListening,it()(r)),r}return c()(n,[{key:"startListening",value:function(){this.scene.input.on(Phaser.Input.Events.POINTER_DOWN,this.onPointerDown,this),this.scene.input.keyboard.on("keydown-SPACE",this.onPointerDown,this)}},{key:"stopListening",value:function(){this.listeners=[],this.scene.input.off(Phaser.Input.Events.POINTER_DOWN,this.onPointerDown,this),this.scene.input.keyboard.off("keydown-SPACE",this.onPointerDown,this)}},{key:"onPointerDown",value:function(){this.listeners.forEach((function(t){return t()}))}},{key:"addListener",value:function(t){this.listeners.push(t)}},{key:"removeListener",value:function(t){var e=this.listeners.findIndex((function(e){return e===t}));e>=0&&this.listeners.splice(e,1)}}]),n}(Phaser.Plugins.ScenePlugin);function at(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function ot(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=f()(t);if(e){var r=f()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return d()(this,n)}}var ct=15129129,ut=13838132,ht=2986973,lt=16645624,dt={yellow:40,red:30,blue:20,white:10,miss:0},pt=function(t){h()(n,t);var e=ot(n);function n(){return a()(this,n),e.call(this,{key:g.ARCHERY})}return c()(n,[{key:"create",value:function(){var t=this;this.sound.play("music/race",{loop:!0}),new H(this),this.physics.world.setBounds(0,0,y.WIDTH,y.HEIGHT);var e=this.physics.add.image(256,100,"archery-target");e.body.setCollideWorldBounds(!0).setBounce(1,1).setVelocity(Phaser.Math.Between(300,500),Phaser.Math.Between(300,500));var n=this.physics.add.image(100,100,"archery-crosshair");n.body.setCollideWorldBounds(!0).setBounce(1,1).setVelocity(Phaser.Math.Between(300,500),Phaser.Math.Between(300,500)),new _(this,50,75,w.VIRTUAL_GUY).sprite.scale=2;var i=0,r=[],s=[this.add.circle(50,150,32,16777215,1),this.add.circle(50,225,32,16777215,1),this.add.circle(50,300,32,16777215,1)];s.forEach((function(t){t.fillAlpha=0,t.setStrokeStyle(3,0,1),t.isStroked=!0})),this.button.addListener((function(){var a=Phaser.Math.Distance.Between(n.x,n.y,e.x,e.y);if(a<16?(s[i].fillColor=ct,s[i].fillAlpha=1,r[i]=dt.yellow):a<48?(s[i].fillColor=ut,s[i].fillAlpha=1,r[i]=dt.red):a<80?(s[i].fillColor=ht,s[i].fillAlpha=1,r[i]=dt.blue):a<112?(s[i].fillColor=lt,s[i].fillAlpha=1,r[i]=dt.white):(t.add.image(s[i].x,s[i].y,"red-x"),r[i]=dt.miss),n.setVelocity(Phaser.Math.Between(300,500),Phaser.Math.Between(300,500)),e.setVelocity(Phaser.Math.Between(300,500),Phaser.Math.Between(300,500)),3===(i+=1)){var o=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?at(Object(n),!0).forEach((function(e){S()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):at(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}(S()({},w.VIRTUAL_GUY,r.reduce((function(t,e){return t+e}),0)),t.generatePlayerScores()),c=Object.entries(o).sort((function(t,e){return e[1]-t[1]}));t.sound.stopByKey("music/race"),t.scene.start(E,{eventId:I.ARCHERY,name:"ARCHERY",first:c[0][0],second:c[1][0],third:c[2][0]})}}))}},{key:"generatePlayerScores",value:function(){var t,e=Object.values(dt);return t={},S()(t,w.MASK_DUDE,Array.from({length:3},(function(){return Phaser.Math.RND.pick(e)})).reduce((function(t,e){return t+e}),0)),S()(t,w.NINJA_FROG,Array.from({length:3},(function(){return Phaser.Math.RND.pick(e)})).reduce((function(t,e){return t+e}),0)),S()(t,w.PINK_MAN,Array.from({length:3},(function(){return Phaser.Math.RND.pick(e)})).reduce((function(t,e){return t+e}),0)),t}}]),n}(T);function ft(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=f()(t);if(e){var r=f()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return d()(this,n)}}var yt=function(t){h()(n,t);var e=ft(n);function n(t){var i;return a()(this,n),(i=e.call(this,t)).documents=void 0,i.documents=[],i}return c()(n,[{key:"addDocument",value:function(t){this.documents.push(t)}},{key:"getDocument",value:function(t){var e=this.documents.find((function(e){return e.name===t}));if(!e)throw new Error("No persistence document found: ".concat(t));return e}},{key:"clear",value:function(){window.localStorage.setItem("one-button-olympics",JSON.stringify({})),this.documents.forEach((function(t){return t.clear()}))}},{key:"store",value:function(){var t=this.documents.reduce((function(t,e){return t[e.name]=e.toJson(),t}),{});window.localStorage.setItem("one-button-olympics",JSON.stringify(t))}},{key:"read",value:function(){var t=this,e=window.localStorage.getItem("one-button-olympics")||"{}",n=JSON.parse(e);Object.entries(n).forEach((function(e){var n=W()(e,2),i=n[0],r=n[1],s=t.documents.find((function(t){return t.name===i}));null==s||s.fromJson(r)}))}}]),n}(Phaser.Plugins.BasePlugin);function mt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=f()(t);if(e){var r=f()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return d()(this,n)}}var vt=[O,M,Z,function(t){h()(n,t);var e=mt(n);function n(){return a()(this,n),e.call(this,{key:k})}return c()(n,[{key:"create",value:function(){var t=this,e=this.persistence.getDocument("event-completion");this.sound.play("music/final-results",{loop:!0}),new H(this),this.add.bitmapText(y.CENTER_WIDTH,100,"matchup-64-glow","CHAMPION").setOrigin(.5),this.add.image(y.CENTER_WIDTH,y.CENTER_HEIGHT-24,"trophy").setScale(2);var n=e.getCharacterPlacements().reduce((function(t,e){return t.push({id:e.id,score:3*e.first+2*e.second+1*e.third}),t}),new Array);n.sort((function(t,e){return e.score-t.score}));var i=n[0];new _(this,y.CENTER_WIDTH,y.CENTER_HEIGHT+48,i.id).sprite.setScale(3),this.add.bitmapText(y.CENTER_WIDTH,y.HEIGHT-64,"matchup-36-white","Restart?").setOrigin(.5),this.button.addListener((function(){t.persistence.clear(),t.persistence.read(),t.sound.stopByKey("music/final-results"),t.scene.start(v)}))}}]),n}(T),Y,Q,et,pt];new r.a.Game({width:y.WIDTH,height:y.HEIGHT,scene:vt,render:{pixelArt:!0},plugins:{scene:[{key:"Button",plugin:st,mapping:"button"}],global:[{key:"PersistencePlugin",plugin:yt,mapping:"persistence",start:!0}]},physics:{default:"arcade",arcade:{}}})}});